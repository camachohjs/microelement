#!/usr/bin/env php
<?php

// Intentamos cargar el autoload local del proyecto
$autoloadFiles = [
    __DIR__ . '/../vendor/autoload.php',                      // si es un proyecto normal
    __DIR__ . '/../../../autoload.php',                       // si está instalado como dependencia
    getenv('COMPOSER_HOME') . '/vendor/autoload.php',         // si se instaló globalmente
];

$loaded = false;
foreach ($autoloadFiles as $file) {
    if ($file && file_exists($file)) {
        require $file;
        $loaded = true;
        break;
    }
}

if (!$loaded) {
    fwrite(STDERR, "No se pudo cargar autoload.php\n");
    exit(1);
}

use Microelement\Console\Application;

$app = new Application();
$app->run();
